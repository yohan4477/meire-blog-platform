# ğŸ¯ ë©”ë¥´'s Pick ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ

> **ë©”ë¥´ê°€ ìµœê·¼ì— ì–¸ê¸‰í•œ ì¢…ëª©ë“¤ì„ ìš°ì„ ìˆœìœ„ë¡œ í‘œì‹œí•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥**  
> ë©”ì¸ í˜ì´ì§€ì™€ ì¢…ëª© ê´€ë ¨ í˜ì´ì§€ì—ì„œ í™œìš©ë©ë‹ˆë‹¤.

---

## ğŸ“‹ í•µì‹¬ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### ê¸°ëŠ¥ ê°œìš”
- **ëª©ì **: ë©”ë¥´ê°€ ìµœê·¼ì— ì–¸ê¸‰í•œ ì¢…ëª©ë“¤ì„ ìš°ì„ ìˆœìœ„ë¡œ í‘œì‹œ
- **ìœ„ì¹˜**: ë©”ì¸ í˜ì´ì§€ ë° ì¢…ëª© ê´€ë ¨ í˜ì´ì§€
- **ë°ì´í„° ì†ŒìŠ¤**: `stocks` í…Œì´ë¸”ì˜ `is_merry_mentioned = 1` ë ˆì½”ë“œ

### í‘œì‹œ ìˆœì„œ (í•µì‹¬ ìš”êµ¬ì‚¬í•­)
1. **ë©”ë¥´ê°€ ì–¸ê¸‰í•œ ìµœì‹  ë‚ ì§œ ìˆœìœ¼ë¡œ ë­í‚¹** (lastMention ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ)
2. ì–¸ê¸‰ íšŸìˆ˜ (postCount/mention_count) ì°¸ê³ 
3. ë©”ë¥´ê°€ ì–¸ê¸‰í•œ ì¢…ëª©ë§Œ í‘œì‹œ (postCount > 0)

---

## ğŸ—„ï¸ ë°ì´í„° ìš”êµ¬ì‚¬í•­

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
**í…Œì´ë¸”**: `stocks`  
**í•µì‹¬ í•„ë“œ**:
- `ticker`: ì¢…ëª© ì½”ë“œ
- `company_name_kr`: í•œêµ­ì–´ íšŒì‚¬ëª…
- `is_merry_mentioned`: ë©”ë¥´ ì–¸ê¸‰ ì—¬ë¶€ (1: ì–¸ê¸‰, 0: ë¯¸ì–¸ê¸‰)
- `last_mentioned_date`: ìµœê·¼ ì–¸ê¸‰ì¼
- `mention_count`: ì´ ì–¸ê¸‰ íšŸìˆ˜
- `market`: ê±°ë˜ì†Œ (KOSPI, KOSDAQ, NASDAQ)
- `currency`: í†µí™” (KRW, USD)

### SQL ì¿¼ë¦¬ êµ¬ì¡°
```sql
SELECT 
  s.ticker,
  s.company_name as name,
  s.company_name_kr as nameKr,
  s.market,
  s.currency,
  s.mention_count as postCount,
  s.last_mentioned_date as lastMention,
  s.first_mentioned_date as firstMention,
  'positive' as sentiment,
  s.sector as description
FROM stocks s
WHERE s.is_merry_mentioned = 1
ORDER BY s.last_mentioned_date DESC
LIMIT 5;
```

### API ì—”ë“œí¬ì¸íŠ¸
- **ê²½ë¡œ**: `/api/merry/stocks`
- **ë©”ì„œë“œ**: GET
- **íŒŒë¼ë¯¸í„°**: `limit` (ê¸°ë³¸ê°’: 5, ìµœëŒ€: 10)
- **ìºì‹±**: 12ì‹œê°„ TTL
- **ì‘ë‹µ ì‹œê°„**: < 500ms

---

## ğŸ¨ UI/UX ìš”êµ¬ì‚¬í•­

### ë ˆì´ì•„ì›ƒ
- **ì œëª©**: "ë©”ë¥´'s Pick" 
- **ìµœëŒ€ í‘œì‹œ ê°œìˆ˜**: 5-10ê°œ ì¢…ëª©
- **ë°°ì¹˜**: ì¹´ë“œ í˜•íƒœ ë˜ëŠ” ë¦¬ìŠ¤íŠ¸ í˜•íƒœ

### ê° ì¢…ëª©ë‹¹ í‘œì‹œ ì •ë³´
- **í‹°ì»¤ ì½”ë“œ**: ì¢…ëª© ì‹ë³„ì (ì˜ˆ: TSLA, 005930)
- **ì¢…ëª©ëª…**: í•œêµ­ì–´ íšŒì‚¬ëª… ìš°ì„ , ì˜ì–´ëª… fallback
- **ìµœê·¼ ì–¸ê¸‰ì¼**: YYYY-MM-DD ë˜ëŠ” ìƒëŒ€ ì‹œê°„ í‘œì‹œ
- **í˜„ì¬ê°€**: ì‹¤ì‹œê°„ ê°€ê²© (ìˆëŠ” ê²½ìš°)
- **ë“±ë½ë¥ **: ì „ì¼ ëŒ€ë¹„ ë“±ë½ë¥  (ìƒ‰ìƒ êµ¬ë¶„)
- **íšŒì‚¬ ì†Œê°œ**: í•œ ì¤„ ì†Œê°œ (postCountê°€ ì•„ë‹Œ ì‹¤ì œ íšŒì‚¬ ì„¤ëª…)

### ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- **ë°°ì§€ ìœ„ì¹˜**: ì¢…ëª© ìœ„ì— ë°°ì¹˜ (ì¢…ëª© ì•„ë˜ X)
- **ìƒ‰ìƒ êµ¬ë¶„**: 
  - ìƒìŠ¹: ë¹¨ê°„ìƒ‰ (#dc2626)
  - í•˜ë½: íŒŒë€ìƒ‰ (#2563eb)
  - ë³´í•©: íšŒìƒ‰ (#6b7280)
- **ë°˜ì‘í˜•**: ëª¨ë°”ì¼ì—ì„œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì¹´ë“œ í˜•íƒœ

### ì¸í„°ë™ì…˜
- **í´ë¦­ ì´ë²¤íŠ¸**: í•´ë‹¹ ì¢…ëª© ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
- **í˜¸ë²„ íš¨ê³¼**: ì¹´ë“œ elevation ì¦ê°€
- **ë¡œë”© ìƒíƒœ**: ìŠ¤ì¼ˆë ˆí†¤ UI í‘œì‹œ

---

## ğŸ“Š ì‹¤ì‹œê°„ ë°ì´í„° ì—°ë™

### ì£¼ê°€ ì •ë³´ (ì„ íƒì‚¬í•­)
- **ë°ì´í„° ì†ŒìŠ¤**: Yahoo Finance API
- **ì—…ë°ì´íŠ¸ ì£¼ê¸°**: 15ë¶„ ì§€ì—° ë˜ëŠ” ì‹¤ì‹œê°„
- **í•œêµ­ ì£¼ì‹**: `{ticker}.KS` í˜•íƒœë¡œ í˜¸ì¶œ
- **ë¯¸êµ­ ì£¼ì‹**: `{ticker}` ê·¸ëŒ€ë¡œ í˜¸ì¶œ
- **ì—ëŸ¬ ì²˜ë¦¬**: API ì‹¤íŒ¨ ì‹œ null ê°’ìœ¼ë¡œ ì²˜ë¦¬, ê°€ê²© ë¯¸í‘œì‹œ

### ìºì‹± ì „ëµ
- **ì¢…ëª© ëª©ë¡**: 12ì‹œê°„ ìºì‹œ (ì„œë²„ ë©”ëª¨ë¦¬)
- **ì‹¤ì‹œê°„ ê°€ê²©**: 5ë¶„ ìºì‹œ (Redis ê¶Œì¥)
- **API í˜¸ì¶œ ì‹¤íŒ¨**: ì´ì „ ìºì‹œ ë°ì´í„° ì‚¬ìš©

---

## âš¡ ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­

### ë¡œë”© ì„±ëŠ¥
- **ì´ˆê¸° ë¡œë”©**: < 500ms
- **ë©”ì¸ í˜ì´ì§€ ì˜í–¥**: ì „ì²´ ë¡œë”©ì— ì˜í–¥ ì£¼ì§€ ì•ŠìŒ
- **API ì‘ë‹µ**: < 500ms
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ì‹œì—ë§Œ ê°±ì‹  (ë¶ˆí•„ìš”í•œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ê¸ˆì§€)

### ë©”ëª¨ë¦¬ ìµœì í™”
- **ìºì‹œ í¬ê¸°**: ìµœëŒ€ 100ê°œ ì¢…ëª© ë°ì´í„°
- **ì´ë¯¸ì§€ ìµœì í™”**: WebP í¬ë§· ì‚¬ìš©
- **ë²ˆë“¤ í¬ê¸°**: ë©”ë¥´'s Pick ì»´í¬ë„ŒíŠ¸ < 50KB

---

## ğŸ”— ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ ë° íŒŒì¼

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸
- **`src/components/merry/MerryPickSection.tsx`**: ë©”ì¸ ë©”ë¥´'s Pick ì»´í¬ë„ŒíŠ¸
- **`src/components/merry/MerryPickCard.tsx`**: ê°œë³„ ì¢…ëª© ì¹´ë“œ ì»´í¬ë„ŒíŠ¸

### API íŒŒì¼
- **`src/app/api/merry/stocks/route.ts`**: ë©”ë¥´'s Pick ë°ì´í„° API
- **`src/lib/stock-db-sqlite3.js`**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ë¡œì§

### íƒ€ì… ì •ì˜
```typescript
interface MerryPickStock {
  ticker: string;
  name: string;
  market: 'KOSPI' | 'KOSDAQ' | 'NASDAQ' | 'NYSE';
  currency: 'KRW' | 'USD';
  postCount: number;
  firstMention: string; // ISO date
  lastMention: string; // ISO date
  sentiment: 'positive' | 'neutral' | 'negative';
  description: string;
  currentPrice?: number;
  priceChange?: string; // "+2.5%" or "-1.3%"
}
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
1. **ë°ì´í„° ë¡œë”©**: 5ê°œ ì¢…ëª©ì´ ìµœê·¼ ì–¸ê¸‰ì¼ ìˆœìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
2. **í´ë¦­ ì´ë²¤íŠ¸**: ê° ì¢…ëª© í´ë¦­ ì‹œ ì˜¬ë°”ë¥¸ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ”ì§€ í™•ì¸
3. **ì‹¤ì‹œê°„ ê°€ê²©**: ê°€ê²© ì •ë³´ê°€ ìˆëŠ” ì¢…ëª©ì€ í˜„ì¬ê°€ í‘œì‹œ í™•ì¸
4. **ë¹ˆ ë°ì´í„°**: ë©”ë¥´ ì–¸ê¸‰ ì¢…ëª©ì´ ì—†ì„ ë•Œ ì ì ˆí•œ ë©”ì‹œì§€ í‘œì‹œ

### ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
1. **ë¡œë”© ì‹œê°„**: 500ms ì´ë‚´ ë Œë”ë§ ì™„ë£Œ
2. **API ì‘ë‹µ**: ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ + API ì‘ë‹µ < 500ms
3. **ìºì‹œ íš¨ê³¼**: 12ì‹œê°„ ìºì‹œë¡œ ì¸í•œ ë¹ ë¥¸ ë¡œë”© í™•ì¸

### ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
1. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨**: ì ì ˆí•œ fallback ë©”ì‹œì§€
2. **API íƒ€ì„ì•„ì›ƒ**: ì´ì „ ìºì‹œ ë°ì´í„° ì‚¬ìš©
3. **ì˜ëª»ëœ ë°ì´í„°**: ë°ì´í„° ìœ íš¨ì„± ê²€ì¦ í†µê³¼

---

## ğŸ“± ëª¨ë°”ì¼ ìµœì í™”

### ë°˜ì‘í˜• ë””ìì¸
- **ë°ìŠ¤í¬í†±**: 5ê°œ ì¢…ëª©ì„ í•œ ì¤„ì— í‘œì‹œ
- **íƒœë¸”ë¦¿**: 3ê°œ ì¢…ëª©ì„ í•œ ì¤„ì— í‘œì‹œ
- **ëª¨ë°”ì¼**: 1-2ê°œ ì¢…ëª©ì„ í•œ ì¤„ì— í‘œì‹œ, ê°€ë¡œ ìŠ¤í¬ë¡¤

### í„°ì¹˜ ìµœì í™”
- **ìµœì†Œ í„°ì¹˜ ì˜ì—­**: 44px Ã— 44px
- **ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜**: ì¢Œìš° ìŠ¤í¬ë¡¤ ì§€ì›
- **í„°ì¹˜ í”¼ë“œë°±**: 0.1ì´ˆ ì§€ì—° ì‹œê°ì  í”¼ë“œë°±

---

## ğŸ”§ ê°œë°œ ê°€ì´ë“œë¼ì¸

### ìƒíƒœ ê´€ë¦¬
```typescript
// React ìƒíƒœ ê´€ë¦¬ ì˜ˆì‹œ
interface MerryPickState {
  stocks: MerryPickStock[];
  loading: boolean;
  error: string | null;
  lastUpdated: Date;
}
```

### ì—ëŸ¬ ë°”ìš´ë”ë¦¬
```typescript
// ë©”ë¥´'s Pick ì „ìš© ì—ëŸ¬ ë°”ìš´ë”ë¦¬
<ErrorBoundary fallback={<MerryPickErrorFallback />}>
  <MerryPickSection />
</ErrorBoundary>
```

### ì ‘ê·¼ì„± (a11y)
- **ìŠ¤í¬ë¦° ë¦¬ë”**: `aria-label` ë° `role` ì†ì„± ì¶”ê°€
- **í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜**: Tab, Enter í‚¤ ì§€ì›
- **ê³ ëŒ€ë¹„ ëª¨ë“œ**: ìƒ‰ìƒ ëŒ€ë¹„ 4.5:1 ì´ìƒ ìœ ì§€

---

> ğŸ“ **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-08-13  
> ğŸ’¬ **ë¬¸ì˜ì‚¬í•­**: ë©”ë¥´'s Pick ê´€ë ¨ ì§ˆë¬¸ì´ë‚˜ ê°œì„ ì‚¬í•­ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì•Œë ¤ì£¼ì„¸ìš”.