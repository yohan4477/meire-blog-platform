# ğŸ“‹ í¬ìŠ¤íŠ¸ ëª©ë¡ í˜ì´ì§€ ìš”êµ¬ì‚¬í•­ (`/merry`)

> **ë©”ë¥´ì˜ ëª¨ë“  ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ í•„í„°ë§, ê²€ìƒ‰, íƒìƒ‰í•  ìˆ˜ ìˆëŠ” ëª©ë¡ í˜ì´ì§€**

## ğŸ¯ í˜ì´ì§€ ê°œìš”
- **í˜ì´ì§€ ê²½ë¡œ**: `/merry`  
- **ë‹´ë‹¹ íŒŒì¼**: `src/app/merry/page.tsx`  
- **ëª©ì **: ë©”ë¥´ì˜ ëª¨ë“  ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ëª©ë¡ í‘œì‹œ ë° í•„í„°ë§

## ğŸ”— ì—°ê²°ë˜ëŠ” í˜ì´ì§€
- **ê°œë³„ í¬ìŠ¤íŠ¸**: `/merry/[id]` (í¬ìŠ¤íŠ¸ ì¹´ë“œ í´ë¦­ ì‹œ)
- **ì¢…ëª© í˜ì´ì§€**: `/merry/stocks/[ticker]` (ì¢…ëª© íƒœê·¸ í´ë¦­ ì‹œ)

## ğŸ·ï¸ **í¬ìŠ¤íŠ¸ë³„ ë…ë¦½ íƒœê·¸ ì‹œìŠ¤í…œ** (í•µì‹¬ ê¸°ëŠ¥)

### ê¸°ì¡´ ë¬¸ì œì 
- ëª¨ë“  í¬ìŠ¤íŠ¸ê°€ ë™ì¼í•œ íƒœê·¸('íˆ¬ì', 'ë¶„ì„') í‘œì‹œë¡œ êµ¬ë¶„ ë¶ˆê°€
- ì‚¬ìš©ìê°€ í¬ìŠ¤íŠ¸ë“¤ì„ êµ¬ë³„í•˜ê¸° ì–´ë ¤ì›€

### í•´ê²° ë°©ì•ˆ: ë™ì  íƒœê·¸ ì‹œìŠ¤í…œ
- **ë°ì´í„° ê¸°ë°˜**: blog_posts í…Œì´ë¸”ì˜ ìƒˆë¡œìš´ 3ê°œ ì»¬ëŸ¼ í™œìš©
  - **mentioned_stocks** (TEXT): ì–¸ê¸‰ëœ ì¢…ëª©ëª… (ì‰¼í‘œ êµ¬ë¶„)
  - **investment_theme** (TEXT): íˆ¬ì í…Œë§ˆ  
  - **sentiment_tone** (TEXT): ê°ì • í†¤ (ê¸ì •ì /ì¤‘ë¦½ì /ë¶€ì •ì )

### íƒœê·¸ ìƒì„± ê·œì¹™
- **ìš°ì„ ìˆœìœ„**: ì–¸ê¸‰ ì¢…ëª© (ìµœëŒ€ 2ê°œ) â†’ íˆ¬ì í…Œë§ˆ â†’ ê°ì • í†¤ (ì´ëª¨ì§€ í¬í•¨)
- **ê°ì • í‘œì‹œ**: ğŸ˜Šê¸ì •ì , ğŸ˜ì¤‘ë¦½ì , ğŸ˜°ë¶€ì •ì  ì´ëª¨ì§€ì™€ í•¨ê»˜ í‘œì‹œ
- **Fallback ì²˜ë¦¬**: ëª¨ë“  í•„ë“œê°€ ë¹„ì–´ìˆì„ ê²½ìš° ê¸°ë³¸ íƒœê·¸ ['íˆ¬ì', 'ë¶„ì„'] ì‚¬ìš©

### ğŸš¨ **ì ˆëŒ€ ì›ì¹™: ê¸€ì´ ì—†ìœ¼ë©´ íƒœê·¸ë¥¼ ìƒì„±í•˜ì§€ ë§ë¼**
- **í¬ìŠ¤íŠ¸ì— í•´ë‹¹ ë‚´ìš©ì´ ì—†ìœ¼ë©´ ì ˆëŒ€ íƒœê·¸ ìƒì„± ê¸ˆì§€**
- ì‹¤ì œ ë‚´ìš©ì— ê¸°ë°˜í•˜ì§€ ì•Šì€ ë¶„ì„ ê²°ê³¼ ì €ì¥ ê¸ˆì§€
- í•´ë‹¹ ì •ë³´ê°€ ì—†ìœ¼ë©´ NULL ë˜ëŠ” ë¹ˆ ê°’ìœ¼ë¡œ ì €ì¥
- **ì˜ˆì‹œ**: íŒŒì›” ì­ìŠ¨í™€ í¬ìŠ¤íŠ¸ì— ì•”í˜¸í™”í ì–¸ê¸‰ì´ ì „í˜€ ì—†ìœ¼ë©´ mentioned_stocksëŠ” NULL
- **Claude ì§ì ‘ ë¶„ì„**: AI API ì‚¬ìš© ì ˆëŒ€ ê¸ˆì§€, Claudeê°€ ìˆ˜ë™ìœ¼ë¡œ í¬ìŠ¤íŠ¸ ë‚´ìš© ì½ê³  ë¶„ì„

## ğŸ¨ UI/UX ìš”êµ¬ì‚¬í•­

### ğŸ“‹ í—¤ë” ì„¹ì…˜
- **ì œëª©**: "ğŸ­ ìš°ë¦¬í˜• ë©”ë¥´" (text-foreground, ë‹¤í¬ ëª¨ë“œ ì§€ì›)
- **ë¶€ì œëª©**: "ì¼ìƒ, íˆ¬ì, ë…ì„œ, ê·¸ë¦¬ê³  ì‚¶ì˜ ë‹¤ì–‘í•œ ì´ì•¼ê¸°ë“¤..." (text-muted-foreground)
- **í°íŠ¸ í¬ê¸°**: text-4xl font-bold (ì œëª©), text-lg (ë¶€ì œëª©)

### ğŸ” í•„í„° ì„¹ì…˜
- **ë°°ê²½**: `bg-muted/50 border` (ë‹¤í¬ ëª¨ë“œ í˜¸í™˜)
- **í•„í„° ì•„ì´ì½˜**: `Filter` ì•„ì´ì½˜ + "í•„í„°:" í…ìŠ¤íŠ¸ (text-foreground)
- **í•„í„° ìœ í˜•**:
  1. **ê¸°ê°„ í•„í„°**: ì „ì²´/ìµœê·¼ 1ì£¼/1ê°œì›”/3ê°œì›”/1ë…„
  2. **ì¢…ëª© í•„í„°**: ğŸ“ˆ ì¢…ëª© í† ê¸€ ë²„íŠ¼
  3. **ë§¤í¬ë¡œ í•„í„°**: ğŸŒ ë§¤í¬ë¡œ í† ê¸€ ë²„íŠ¼  
  4. **íŠ¹ì • ì¢…ëª©**: ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ ê°œë³„ ì¢…ëª© ì„ íƒ
  5. **ì´ˆê¸°í™” ë²„íŠ¼**: ëª¨ë“  í•„í„° í•´ì œ

### ğŸ“ í¬ìŠ¤íŠ¸ ë¦¬ìŠ¤íŠ¸ ì„¹ì…˜
- **ì œëª©**: "ğŸ“ ëª¨ë“  í¬ìŠ¤íŠ¸ (ì´ Nê°œ)" (text-foreground)
- **ì¹´ë“œ ë ˆì´ì•„ì›ƒ**: ê·¸ë¦¬ë“œ (md:grid-cols-2 lg:grid-cols-3)
- **í¬ìŠ¤íŠ¸ ì¹´ë“œ**: hover:shadow-lg transition-shadow
- **ë”ë³´ê¸°**: "ë”ë³´ê¸° (10ê°œì”©)" ë²„íŠ¼ìœ¼ë¡œ í˜ì´ì§€ë„¤ì´ì…˜

### í¬ìŠ¤íŠ¸ ì¹´ë“œ ì •ë³´
- **í•„ìˆ˜ ì •ë³´**: ì œëª©, **ë©”ë¥´ë‹˜ í•œì¤„ ìš”ì•½** (ë¯¸ë¦¬ë³´ê¸° ëŒ€ì‹ ), ì‘ì„±ì(ë©”ë¥´), ì‘ì„±ì¼
- **ì„ íƒ ì •ë³´**: ì¡°íšŒìˆ˜, ì¢‹ì•„ìš”, ëŒ“ê¸€ ìˆ˜, ë™ì  íƒœê·¸
- **ë§í¬**: `/merry/{post.id}`ë¡œ ê°œë³„ í¬ìŠ¤íŠ¸ í˜ì´ì§€ ì´ë™
- **ë™ì  íƒœê·¸ ì²˜ë¦¬**: í¬ìŠ¤íŠ¸ë³„ ë…ë¦½ íŠ¹ì„± ê¸°ë°˜ íƒœê·¸ ìƒì„±, ìµœëŒ€ 3ê°œ í‘œì‹œ

#### ğŸ¯ **ë©”ë¥´ë‹˜ í•œì¤„ ìš”ì•½ í‘œì‹œ (ì¤‘ìš” ë³€ê²½ì‚¬í•­)**
- **ê¸°ì¡´**: í¬ìŠ¤íŠ¸ ë‚´ìš© ë¯¸ë¦¬ë³´ê¸° (`excerpt` í•„ë“œ)
- **ë³€ê²½**: "ğŸ“ **ë©”ë¥´ë‹˜ í•œ ì¤„ ìš”ì•½**: [ìš”ì•½ ë‚´ìš©]" í˜•ì‹ìœ¼ë¡œ í‘œì‹œ
- **ë°ì´í„° ì†ŒìŠ¤**: ê° í¬ìŠ¤íŠ¸ ì²« ë¶€ë¶„ì— ìˆëŠ” ë©”ë¥´ë‹˜ì˜ ì§ì ‘ ì‘ì„±í•œ í•œì¤„ ìš”ì•½ ì‚¬ìš©
- **ì¶”ì¶œ ë°©ë²•**: `content.split('ë©”ë¥´ë‹˜ í•œ ì¤„ ìš”ì•½')[1]?.split('\n\n')[0]` í˜•ì‹ìœ¼ë¡œ ì²« ë¬¸ë‹¨ ì¶”ì¶œ
- **ìŠ¤íƒ€ì¼ë§**: í•œì¤„ ìš”ì•½ ë¶€ë¶„ì€ `text-muted-foreground` ìƒ‰ìƒìœ¼ë¡œ êµ¬ë¶„
- **ê¸¸ì´ ì œí•œ**: í•œì¤„ ìš”ì•½ì´ ë„ˆë¬´ ê¸¸ë©´ ë§ì¤„ì„í‘œ(...) ì ìš© (200ì ì œí•œ)
- **Fallback**: í•œì¤„ ìš”ì•½ì´ ì—†ëŠ” ê²½ìš° ê¸°ì¡´ excerpt í•„ë“œ ì‚¬ìš©

## ğŸŒˆ ë‹¤í¬ ëª¨ë“œ ì§€ì›

### ğŸ¨ ìƒ‰ìƒ ì‹œìŠ¤í…œ (í•„ìˆ˜)
```typescript
// âœ… ë‹¤í¬ ëª¨ë“œ í˜¸í™˜ ìƒ‰ìƒ
text-foreground        // ì£¼ìš” í…ìŠ¤íŠ¸
text-muted-foreground  // ë³´ì¡° í…ìŠ¤íŠ¸  
bg-muted/50           // í•„í„° ë°°ê²½
bg-card               // ì¹´ë“œ ë°°ê²½
border                // í…Œë‘ë¦¬

// âŒ ì‚¬ìš© ê¸ˆì§€ ìƒ‰ìƒ (ë‹¤í¬ ëª¨ë“œ ë¹„í˜¸í™˜)
text-gray-900         // í•˜ë“œì½”ë”©ëœ íšŒìƒ‰
bg-gray-50           // í•˜ë“œì½”ë”©ëœ ë°°ê²½
text-gray-600        // í•˜ë“œì½”ë”©ëœ íšŒìƒ‰
```

## ğŸ“¡ API ì—°ë™

### ğŸ”— ë©”ì¸ API: `/api/merry/posts`
```typescript
// ìš”ì²­ íŒŒë¼ë¯¸í„°
interface PostsRequest {
  limit: number;        // í˜ì´ì§€ë‹¹ í¬ìŠ¤íŠ¸ ìˆ˜ (ê¸°ë³¸: 10)
  offset: number;       // í˜ì´ì§€ë„¤ì´ì…˜ ì˜¤í”„ì…‹
  date?: string;        // 'all' | 'week' | 'month' | 'quarter' | 'year'
  stocks?: '1';         // ì¢…ëª© ê´€ë ¨ í¬ìŠ¤íŠ¸ë§Œ
  macro?: '1';          // ë§¤í¬ë¡œ ê´€ë ¨ í¬ìŠ¤íŠ¸ë§Œ  
  ticker?: string;      // íŠ¹ì • ì¢…ëª© í‹°ì»¤
}

// ì‘ë‹µ í˜•ì‹ (ë™ì  íƒœê·¸ ì‹œìŠ¤í…œ í¬í•¨)
interface PostsResponse {
  success: boolean;
  data: MerryPost[];
  meta: {
    total: number;      // ì „ì²´ í¬ìŠ¤íŠ¸ ìˆ˜ (í•„ìˆ˜)
    hasNext: boolean;   // ë” ë³´ê¸° ì—¬ë¶€
  };
}

// í¬ìŠ¤íŠ¸ ë°ì´í„° êµ¬ì¡° (ìƒˆë¡œìš´ í•„ë“œ í¬í•¨)
interface MerryPost {
  // ê¸°ì¡´ í•„ë“œë“¤...
  id: number;                  // í¬ìŠ¤íŠ¸ ID
  title: string;               // í¬ìŠ¤íŠ¸ ì œëª©
  summary: string;             // ğŸ“ ë©”ë¥´ë‹˜ í•œì¤„ ìš”ì•½ (excerpt ëŒ€ì‹ )
  author: string;              // ì‘ì„±ì (ë©”ë¥´)
  createdAt: string;           // ì‘ì„±ì¼
  views?: number;              // ì¡°íšŒìˆ˜ (ì„ íƒì‚¬í•­)
  tags: string[];              // ë™ì  ìƒì„±ëœ íƒœê·¸ ë°°ì—´
  mentionedStocks?: string[];  // ì–¸ê¸‰ëœ ì¢…ëª© ëª©ë¡
  investmentTheme?: string;    // íˆ¬ì í…Œë§ˆ
  sentimentTone?: string;      // ê°ì • í†¤ (ê¸ì •ì /ì¤‘ë¦½ì /ë¶€ì •ì )
}

// ğŸ“ ë©”ë¥´ë‹˜ í•œì¤„ ìš”ì•½ ì¶”ì¶œ ë¡œì§ (API êµ¬í˜„ ì‹œ ì°¸ê³ )
function extractMerrySummary(content: string): string {
  try {
    // "ë©”ë¥´ë‹˜ í•œ ì¤„ ìš”ì•½" ë’¤ì˜ ì²« ë²ˆì§¸ ë¬¸ë‹¨ ì¶”ì¶œ
    const summaryPart = content.split('ë©”ë¥´ë‹˜ í•œ ì¤„ ìš”ì•½')[1];
    if (!summaryPart) return '';
    
    // ì²« ë²ˆì§¸ ë¹ˆ ì¤„ê¹Œì§€ì˜ ë‚´ìš©ì„ ìš”ì•½ìœ¼ë¡œ ì‚¬ìš©
    const summary = summaryPart.split('\n\n')[0]?.trim();
    if (!summary) return '';
    
    // 200ì ì œí•œ ë° ë§ì¤„ì„í‘œ ì²˜ë¦¬
    return summary.length > 200 ? summary.substring(0, 200) + '...' : summary;
  } catch (error) {
    return ''; // ì¶”ì¶œ ì‹¤íŒ¨ ì‹œ ë¹ˆ ë¬¸ìì—´ ë°˜í™˜
  }
}
```

### ğŸ”— ì¢…ëª© ëª©ë¡ API: `/api/merry/stocks`
```typescript
// í•„í„°ìš© ì¢…ëª© ëª©ë¡ ë¡œë“œ
interface StocksResponse {
  success: boolean;
  data: {
    stocks: Array<{
      ticker: string;
      name: string;
      mention_count: number;
    }>;
  };
}
```

## ğŸ¯ ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­

### âš¡ ë¡œë”© ì„±ëŠ¥
- **ì´ˆê¸° ë¡œë”©**: < 3ì´ˆ (CLAUDE.md í•µì‹¬ ì›ì¹™)
- **API ì‘ë‹µ**: < 500ms
- **í˜ì´ì§€ë„¤ì´ì…˜**: < 1ì´ˆ
- **í•„í„° ì ìš©**: < 800ms

### ğŸ”„ ìµœì í™” ì „ëµ
- **í•„í„° ë³€ê²½ ì‹œ**: ì „ì²´ í¬ìŠ¤íŠ¸ ë‹¤ì‹œ ë¡œë“œ (offset=0)
- **ë”ë³´ê¸° í´ë¦­ ì‹œ**: ê¸°ì¡´ í¬ìŠ¤íŠ¸ì— ì¶”ê°€ (append)
- **ê²€ìƒ‰/í•„í„°**: useEffectë¡œ ìë™ ì ìš©
- **ì—ëŸ¬ ì²˜ë¦¬**: ë¡œë”© ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ìì—ê²Œ ëª…í™•í•œ ì•ˆë‚´

## ğŸš¨ ì£¼ì˜ì‚¬í•­

### âŒ ê¸ˆì§€ ì‚¬í•­
- **í•˜ë“œì½”ë”©ëœ ìƒ‰ìƒ**: `text-gray-900`, `bg-gray-50` ë“± ì‚¬ìš© ê¸ˆì§€
- **Dummy ë°ì´í„°**: ì‹¤ì œ API ë°ì´í„°ë§Œ ì‚¬ìš©
- **ê°€ì§œ ì´ ê°œìˆ˜**: `posts.length`ê°€ ì•„ë‹Œ `meta.total` ì‚¬ìš©
- **í•„í„° ì—†ëŠ” ì‹œê°„**: ëª¨ë“  í•„í„° ê¸°ëŠ¥ ì •ìƒ ë™ì‘ í•„ìˆ˜

### âœ… í•„ìˆ˜ ì¤€ìˆ˜ì‚¬í•­
- **ë‹¤í¬ ëª¨ë“œ ì™„ì „ ì§€ì›**: ëª¨ë“  UI ìš”ì†Œ
- **ì‹¤ì œ ë°ì´í„°ë§Œ ì‚¬ìš©**: APIì—ì„œ ê°€ì ¸ì˜¨ ì‹¤ì œ í¬ìŠ¤íŠ¸
- **3ì´ˆ ë¡œë”© ì œí•œ**: ì„±ëŠ¥ ìµœì í™” í•„ìˆ˜
- **í•„í„° ë™ê¸°í™”**: URLê³¼ ìƒíƒœ ë™ê¸°í™” ê¶Œì¥

---

## ğŸ“ ìš”ì•½

**ë©”ë¥´ í¬ìŠ¤íŠ¸ ëª©ë¡ì€ "ê¸€ì´ ì—†ìœ¼ë©´ íƒœê·¸ë¥¼ ìƒì„±í•˜ì§€ ë§ë¼" ì›ì¹™í•˜ì— í¬ìŠ¤íŠ¸ë³„ ê³ ìœ í•œ ë™ì  íƒœê·¸ë¥¼ ì œê³µí•˜ëŠ” ê³ ì„±ëŠ¥ í•„í„°ë§ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.**

í•µì‹¬ ê¸°ëŠ¥:
1. ğŸ·ï¸ **ë™ì  íƒœê·¸**: ì‹¤ì œ ë‚´ìš© ê¸°ë°˜ í¬ìŠ¤íŠ¸ë³„ ê³ ìœ  íƒœê·¸
2. ğŸ” **ë‹¤ì¤‘ í•„í„°**: ê¸°ê°„/ì¢…ëª©/ë§¤í¬ë¡œ/íŠ¹ì •ì¢…ëª© í•„í„°ë§  
3. ğŸ“Š **ì‹¤ì œ ì´ ê°œìˆ˜**: DB ê¸°ë°˜ ì •í™•í•œ í¬ìŠ¤íŠ¸ ìˆ˜ í‘œì‹œ
4. âš¡ **ê³ ì„±ëŠ¥**: 3ì´ˆ ì´ë‚´ ë¡œë”©, 500ms API ì‘ë‹µ
5. ğŸ¨ **ë‹¤í¬ ëª¨ë“œ**: semantic ìƒ‰ìƒìœ¼ë¡œ ì™„ì „ í˜¸í™˜